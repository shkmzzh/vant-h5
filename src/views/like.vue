<template>
  <div class="container-test">
    <van-nav-bar title="åå°æ•°æ®æ¥å£æµ‹è¯•" />
    <input type="text" placeholder="è¾“å…¥ä½ è¦æµ‹è¯•æ•°æ®çš„æ¡æ•°" v-model="count" />
    <van-button type="info" @click="btnTest(count)">å¼€å§‹æµ‹è¯•</van-button>
    <h3>æµ‹è¯•æ•°æ®å±•ç¤º</h3>
    <p>æ ‡é¢˜:{{ stem }}</p>
    <p>å†…å®¹:{{ content }}</p>
    <hr />
    <h3>è¾“å…¥æ‚¨è¦æµ‹è¯•çš„æ•°æ®</h3>
    <van-cell-group>
      <van-field v-model="stem" label="æ ‡é¢˜" placeholder="è¯·è¾“å…¥æ ‡é¢˜" label-width="2em" />
      <van-field v-model="content" rows="2" autosize label="å†…å®¹" type="textarea" maxlength="500" label-width="2em" placeholder="è¯·è¾“å…¥ç•™è¨€" show-word-limit />
    </van-cell-group>
  </div>
</template>

<script>
import { interviewUpdate } from '@/api/test'
export default {
  data() {
    return {
      id: 555555,
      data: Math.round(Math.random() * 1000),
      count: 1,
      stem: 'ğŸ”å‰ä¸å‰å®³ä½ å¤å·´å“¥ğŸ€',
      content: `<ul>é»‘é©¬çš„é“ä»”ä»¬
        <p>å»æˆ‘ githubä»“åº“é‡Œç‚¹ä¸ª state è®¿é—®åœ°å€:https://github.com/shkmzzh </p>
        <p>å¦‚æœä½ æ„Ÿåˆ°æ— èŠçš„è¯ï¼šç©ä¸€ç©å°æ¸¸æˆï¼šé¸¡äº†ä¸ªé¸¡:http://shkmzzh.gitee.io/kun-kun/ </p>
        <p>å¦‚æœä½ æƒ³å¬éŸ³ä¹çš„è¯å°±æ¥é¸¡éŸ³ç›’:https://ikun.4everland.app/#/home,</p>
        <p>ä¹Ÿå¯ä»¥æ¥æˆ‘çš„ä¸ªäººåšå®¢ä¸­äº¤æµå­¦ä¹ :<strong> https://zzh.4everland.app </strong></p><ul>
        <p>å¦‚æœä½ æ˜¯ikunçš„è¯è¿™ä¸ªé£å»é€ç»™ä½ <img src="https://img-blog.csdnimg.cn/bc33716c1cbc4ad3b2405b9baa1cbb66.jpeg"></p>`
    }
  },
  methods: {
    async getData() {
      console.log()
      //   this.content += Date.now()
      //   this.stem += 1
      await interviewUpdate(this.stem + Date.now(), this.content + Date.now())
    },
    btnTest(count) {
      // this.count = this.count * 3
      let i = 0
      for (i = 1; i < count * 15; i++) {
        if (i % 15 === 0) {
          this.getData()
        }
      }
    }
  }
}
</script>

<style lang="less" scoped>
.container-test {
  h3 {
    text-align: center;
  }
}
</style>
